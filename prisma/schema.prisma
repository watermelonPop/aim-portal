generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["driverAdapters"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Account {
  id        Int         @id @default(autoincrement())
  email     String      @unique
  name      String      
  role      Role
  createdAt DateTime    @default(now())
  student   Student?
  professor Professor?
  advisor   Advisor?
  settings  Settings?
  forms     Form[]
}

model Student {
  userId               Int                    @id @unique
  account              Account                @relation(fields: [userId], references: [id])
  dob                  DateTime
  UIN                  Int?
  phone_number         String
}

model Professor {
  userId                Int        @id @unique
  account               Account    @relation(fields: [userId], references: [id])
  department            String?
}

model Advisor {
  userId                Int     @id @unique
  account               Account    @relation(fields: [userId], references: [id])
  role                  AdvisorRoles @default(Coordinator)
}

model Settings {
  userId                Int @id @unique
  account               Account   @relation(fields: [userId], references: [id]) 
  content_size          Int @default(100)
  highlight_tiles       Boolean @default(false)
  highlight_links       Boolean @default(false)
  text_magnifier        Boolean @default(false)
  align_text            Boolean @default(false)
  font_size             Int @default(100)
  line_height           Int @default(100)
  letter_spacing        Int @default(100)
  contrast              Contrast @default(Regular)
  saturation            Saturation @default(Regular)
  mute_sounds           Boolean @default(false)
  hide_images           Boolean @default(false)
  reading_mask          Boolean @default(false)
  highlight_hover       Boolean @default(false)
  cursor                Cursor @default(Regular)
}

model Form {
  id              String   @id @unique
  name            String
  type            FormType
  status          FormStatus @default(PENDING)
  submittedDate   DateTime? // Can be null if not submitted
  dueDate         DateTime
  createdAt       DateTime @default(now())
  userId          Int
  user            Account  @relation(fields: [userId], references: [id])
}

enum FormStatus {
  OVERDUE
  PENDING
  SUBMITTED
  APPROVED
  REJECTED
}

enum FormType {
  REGISTRATION_ELIGIBILITY
  ACADEMIC_CLASSROOM
  CAMPUS_LIVING_MOBILITY
  APPEALS_TEMP_WORKPLACE
}

enum Cursor {
  BBC
  BWC
  Regular
}

enum Saturation {
  Regular
  Low
  High
  Monochrome
}

enum Contrast {
  Regular
  Dark
  Light
  Monochrome
}


enum AdvisorRoles {
  Admin
  Coordinator
  Testing_Staff
  Tech_Staff
}

enum Role {
  STUDENT
  PROFESSOR
  ADVISOR
}

enum RequesterRole {
  STUDENT
  ADVISOR
}



enum RequestStatus {
  PENDING
  APPROVED
  DENIED
}





